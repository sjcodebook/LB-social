<head>
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <link
    rel="stylesheet"
    href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"
  />
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"
  ></script>
  <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

  <script src="https://kit.fontawesome.com/00fae642f1.js"></script>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <link rel="shortcut icon" type="image/png" href="./assets/images/logo.png" />
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/css/select2.min.css"
    rel="stylesheet"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js"></script>
</head>

<template name="leftPanel">
  {{#if Template.subscriptionsReady}}
  {{#if currentUser }}
  {{#if is_subadmin }}
  {{#if is_active}}

  <!-- common div -->
  <div
    class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header"
  >
    <!-- head nav -->
    <div class="app-header header-shadow">
      <div class="app-header__logo">
        <a href="/"
          ><div class="display-4" style="font-size: 2.0rem; color: black;">
            Leader Bridge
          </div></a
        >
      </div>
      <div class="app-header__mobile-menu">
        <div>
          <button
            type="button"
            class="hamburger hamburger--elastic mobile-toggle-nav"
          >
            <span class="hamburger-box">
              <span class="hamburger-inner"></span>
            </span>
          </button>
        </div>
      </div>
      <div class="app-header__menu">
        <span>
          <button
            type="button"
            class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav"
          >
            <span class="btn-icon-wrapper">
              <i class="fa fa-ellipsis-v fa-w-6"></i>
            </span>
          </button>
        </span>
      </div>
      <div class="app-header__content">
        <div class="app-header-left">
          <div class="search-wrapper">
            <div class="input-holder">
              <input
                type="text"
                class="search-input"
                placeholder="Type to search"
              />
              <button class="search-icon"><span></span></button>
            </div>
            <button class="close"></button>
          </div>
          <ul class="header-menu nav">
            <li class="nav-item">
              <a href="javascript:void(0);" class="nav-link">
                <i class="nav-link-icon fa fa-database"> </i>
                Statistics
              </a>
            </li>
            <li class="btn-group nav-item">
              <a href="javascript:void(0);" class="nav-link">
                <i class="nav-link-icon fa fa-edit"></i>
                Projects
              </a>
            </li>
            <li class="dropdown nav-item">
              <a href="javascript:void(0);" class="nav-link">
                <i class="nav-link-icon fa fa-cog"></i>
                Settings
              </a>
            </li>
          </ul>
        </div>
        <div class="app-header-right">
          <div class="header-btn-lg pr-0">
            <div class="widget-content p-0">
              <div class="widget-content-wrapper">
                <div class="widget-content-left">
                  <div class="btn-group">
                    <a
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                      class="p-0 btn"
                    >
                      <img
                        width="42"
                        class="rounded-circle"
                        src="assets/images/avatars/1.jpg"
                        alt=""
                      />
                      <i class="fa fa-angle-down ml-2 opacity-8"></i>
                    </a>
                    <div
                      tabindex="-1"
                      role="menu"
                      aria-hidden="true"
                      class="dropdown-menu dropdown-menu-right"
                    >
                      <button type="button" tabindex="0" class="dropdown-item">
                        User Account
                      </button>
                      <button type="button" tabindex="0" class="dropdown-item">
                        Settings
                      </button>
                      <h6 tabindex="-1" class="dropdown-header">Header</h6>
                      <button type="button" tabindex="0" class="dropdown-item">
                        Actions
                      </button>
                      <div tabindex="-1" class="dropdown-divider"></div>
                      <button type="button" tabindex="0" class="dropdown-item">
                        Dividers
                      </button>
                    </div>
                  </div>
                </div>
                <div class="widget-content-left  ml-3 header-user-info">
                  {{> loginButtons}}
                </div>
                <div class="widget-content-right header-user-info ml-3">
                  <button
                    type="button"
                    class="btn-shadow p-1 btn btn-primary btn-sm show-toastr-example"
                  >
                    <i class="fa text-white fa-calendar pr-1 pl-1"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- common div -->
    <div class="app-main">
      <!-- side menu -->
      <div class="app-sidebar sidebar-shadow">
        <div class="app-header__logo">
          <div class="display-4" style="font-size: 2.0rem; color: black;">
            Leaders Bridge
          </div>
          <div class="header__pane ml-auto">
            <div>
              <button
                type="button"
                class="hamburger close-sidebar-btn hamburger--elastic"
                data-class="closed-sidebar"
              >
                <span class="hamburger-box">
                  <span class="hamburger-inner"></span>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="app-header__mobile-menu">
          <div>
            <button
              type="button"
              class="hamburger hamburger--elastic mobile-toggle-nav"
            >
              <span class="hamburger-box">
                <span class="hamburger-inner"></span>
              </span>
            </button>
          </div>
        </div>
        <div class="app-header__menu">
          <span>
            <button
              type="button"
              class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav"
            >
              <span class="btn-icon-wrapper">
                <i class="fa fa-ellipsis-v fa-w-6"></i>
              </span>
            </button>
          </span>
        </div>
        <div class="scrollbar-sidebar">
          <div class="app-sidebar__inner">
            <ul class="vertical-nav-menu">
              <li class="mt-2  {{#if currentRouteIs 'dashboard'}}active{{/if}}">
                <a href="/" class="menuLink">
                  <i class="fas fa-tachometer-alt mr-2"></i>
                  Dashboard
                </a>
              </li>
              {{#each menuItems}}
              {{#if isPM menu_name}}
              <li class="mt-2">
                <a href="#" class="menuLink" id="mastersettingsmenu">
                  <i class="fas fa-box-open mr-2"></i>
                  Post Management
                  <i
                    id="mastersettingsToggle"
                    class="fa fa-angle-right ml-2"
                  ></i>
                </a>
                <ul>
                  <li
                    class="mt-2  {{#if currentRouteIs 'audiovideomanagement'}}active{{/if}}"
                  >
                    <a href="/mediamanagement">
                      <i class=""></i>
                      Media
                    </a>
                  </li>
                  <li class="mt-2  {{#if currentRouteIs 'storymanagement'}}active{{/if}}">
                    <a href="/storymanagement">
                      <i class=""></i>
                    Blog
                    </a>
                  </li>
                </ul>
              </li>
              {{else}}
              <li class="mt-2 {{#if currentRouteIs menu_url}}active{{/if}}">
                <a href="/{{ menu_url }}" class="menuLink">
                  <i class="{{ menu_icon }} mr-2"></i>
                  {{ menu_name }}
                </a>
              </li>
              {{/if}}
              {{/each}}
            </ul>
          </div>
        </div>
      </div>

      <!-- common div -->
      <div class="app-main__outer">
        {{> Template.dynamic template=main}}
        <!-- footer -->
        <div class="app-wrapper-footer">
          <div class="app-footer">
            <div class="app-footer__inner">
              <div class="app-footer-right">
                <ul class="nav">
                  <li class="nav-item">
                    <a href="/cms/pages/aboutus" class="nav-link">
                      About Us
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="/cms/pages/termsandconditions" class="nav-link">
                      Terms And Conditions
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="/cms/pages/privacypolicy" class="nav-link">
                      Privacy Policy
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="/cms/pages/contactus" class="nav-link">
                      Contact Us
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Modal -->

  <div
    class="modal fade"
    id="deleteUserModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">DELETE USER</h5>
          <button
            type="button"
            class="close"
            aria-label="Close"
            data-dismiss="modal"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form class="deleteUserForm">
          <div class="modal-body">
            {{#each getCurrentUser}}
            <h5>Are You Sure To Remove {{ name }}?</h5>
            {{/each}}
            <div class="checkDeleteUserMessage inputChecks">
              <div class="error-message">
                Something Went Wrong While Deleting User.
              </div>
              <div class="success-message">
                User Deleted Successfully
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="mb-2 mr-2 mt-3 btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>

            <i
              id="submitDeleteUserBtn"
              class="spinner fas fa-spinner mr-2 noDisplay"
            ></i>
            <input
              type="submit"
              class="mb-2 mr-2 mt-3 btn btn-primary"
              value="YES REMOVE"
            />
          </div>
        </form>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="editUserModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">EDIT USER</h5>
          <button
            type="button"
            class="close"
            aria-label="Close"
            data-dismiss="modal"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form class="editUserForm">
          <div class="modal-body">
            {{#each getCurrentUser}}
            <div>
              <label for="editUserName">Pseudonym:</label>
              <div class="checkEditUserNameInput checkEditUserInput">
                <input
                  id="editUserName"
                  type="text"
                  class="form-control"
                  value="{{ name }}"
                  aria-describedby="inputGroupPrepend"
                  maxlength="40"
                  autocomplete="off"
                  required
                />
              </div>
              <div class="checkEditUserNameNumberMessage inputChecks">
                <div class="error-message">
                  Numbers are not allowed in input
                </div>
              </div>
              <div class="checkEditUserNameInvalidMessage inputChecks">
                <div class="error-message">Invalid Input</div>
              </div>
            </div>

            <div>
              <label class="mt-2" for="Location">Location:</label>
              <div class="checkEditUserInput">
                <input
                  id="Location"
                  type="text"
                  class="form-control"
                  value="{{ entered_location }}"
                  aria-describedby="inputGroupPrepend"
                  autocomplete="off"
                  required
                />
              </div>
              <input id="newcity" name="newcity" required="" type="hidden" />
              <input id="newstate" name="newstate" required="" type="hidden" />
              <input
                id="newcountry"
                name="newcountry"
                required=""
                type="hidden"
              />
              <input id="newlat" name="newlat" required="" type="hidden" />
              <input id="newlng" name="newlng" required="" type="hidden" />
              <input
                id="newformatted_address"
                name="newformatted_address"
                required=""
                type="hidden"
              />
              <input
                id="newplace_id"
                name="newplace_id"
                required=""
                type="hidden"
              />
            </div>

            <div>
              <label class="mt-2" for="editEmail">Email:</label>
              <input
                id="editEmail"
                type="text"
                class="form-control"
                value="{{ email }}"
                aria-describedby="inputGroupPrepend"
                autocomplete="off"
                required
                readonly
              />
            </div>

            <div>
              <label class="mt-2" for="editOrganisation">Organisation:</label>
              <div class="checkEditUserOrganisationInput checkEditUserInput">
                <input
                  id="editOrganisation"
                  type="text"
                  class="form-control"
                  value="{{ Organisation }}"
                  aria-describedby="inputGroupPrepend"
                  maxlength="40"
                  autocomplete="off"
                  required
                />
              </div>
              <div class="checkEditUserOrganisationInvalidMessage inputChecks">
                <div class="error-message">
                  Invalid Input.
                </div>
              </div>
              <div class="checkEditUserOrganisationMessage inputChecks">
                <div class="error-message">
                  Numbers are not allowed in input
                </div>
              </div>
            </div>

            <div>
              <label class="mt-2" for="editDesignation">Designation:</label>
              <div class="checkEditUserDesignationInput checkEditUserInput">
                <input
                  id="editDesignation"
                  type="text"
                  class="form-control"
                  value="{{ Designation }}"
                  aria-describedby="inputGroupPrepend"
                  maxlength="40"
                  autocomplete="off"
                  required
                />
              </div>
              <div class="checkEditUserDesignationInvalidMessage inputChecks">
                <div class="error-message">
                  Invalid Input.
                </div>
              </div>
              <div class="checkEditUserDesignationMessage inputChecks">
                <div class="error-message">
                  Numbers are not allowed in input
                </div>
              </div>
            </div>

            <div>
              <label class="mt-2" for="editExperience">Experience:</label>
              <div class="checkEditUserExperienceInput checkEditUserInput">
                <input
                  id="editExperience"
                  type="text"
                  class="form-control"
                  value="{{ Experience }}"
                  aria-describedby="inputGroupPrepend"
                  maxlength="4"
                  autocomplete="off"
                  placeholder="Years"
                  required
                />
              </div>
              <div class="checkEditUserExperienceInvalidMessage inputChecks">
                <div class="error-message">
                  Invalid Input.
                </div>
              </div>
              <div class="checkEditUserExperienceMessage inputChecks">
                <div class="error-message">
                 Only Numbers are allowed in input
                </div>
              </div>
            </div>

            <div>
              <label class="mt-2" for="editMobile_number">Contact No:</label>
              <div class="checkEditUserPhoneInput checkEditUserInput">
                <input
                  id="editMobile_number"
                  type="text"
                  class="form-control"
                  value="{{ mobile_number }}"
                  aria-describedby="inputGroupPrepend"
                  maxlength="10"
                  autocomplete="off"
                  required
                />
              </div>
              <div class="checkEditUserPhoneNumberMessage inputChecks">
                <div class="error-message">Only Numbers Are Allowed.</div>
              </div>
              <div
                class="checkEditUserPhoneInvalidMessage checkEditUserMessage inputChecks"
              >
                <div class="error-message">Contact Number Not Valid</div>
              </div>
            </div>

            <div class="checkEditUserMessage inputChecks">
              <div class="success-message">
                User Edited Successfully!
              </div>
            </div>
            {{/each}}
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="mb-2 mr-2 mt-3 btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>

            <i
              id="submitEditUserBtn"
              class="spinner fas fa-spinner mr-2 noDisplay"
            ></i
            ><input
              type="submit"
              class="mb-2 mr-2 mt-3 btn btn-primary"
              value="SAVE"
            />
          </div>
        </form>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="ViewAddMediaModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div id="ViewAddMediaModalContent" class="modal-content"></div>
    </div>
  </div>

  <div
    class="modal fade"
    id="ViewEditMediaModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div id="ViewEditMediaModalContent" class="modal-content"></div>
    </div>
  </div>

  <div
    class="modal fade"
    id="ViewMediaModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div id="ViewMediaModalContent" class="modal-content"></div>
    </div>
  </div>

  <script src="./js/main.js"></script>
  {{#each menuItems}}
  {{#if isPM menu_name}}
  <script>
    document
      .getElementById('mastersettingsmenu')
      .addEventListener('click', e => {
        $('#mastersettingsToggle').toggleClass('fas fa-chevron-down');
        $('#mastersettingsToggle').toggleClass('fa fa-angle-right');
      });
  </script>
  {{/if}}
  {{/each}}
  <!-- End Modal -->
  {{else}}
  {{> noAccess}}
  {{/if}}
  {{else}}
  {{> noAccess}}
  {{/if}}
  {{else}}
  {{> Login}}
  {{/if}}
  {{else}}
  <div style="text-align: center" class="mt-3">
    <i
      id="leftPanelLoader"
      class="spinner fas fa-atom mr-2 mb-3 mt-3 "
      style="font-size:6em; color:#aed9f5; "
    ></i>
    <h3 class="display-5">Loading...</h3>
  </div>
  {{/if}}
</template>
